import{j as S}from"./jsx-runtime-ffb262ed.js";import{r as k}from"./index-76fb7be0.js";import{B as rr,C as ge,D as Ge,E as Xe,R as or,F as ar,I as Yn,J as gn,M as pn,N as dn,O as xn,P as ue,S as _t,T as St,V as Ve,Z as sr,_ as Ne,a0 as Ct,a1 as jt,a2 as Ot,a3 as Rt,a4 as qt,a5 as ur,c as fn,a6 as lr,a7 as cr,a8 as fr,p as hr,H as $t,a9 as dr,aa as gr,ab as mr,ac as me,ad as yr,ae as pr,U as vn,q as Cn,$ as je,af as Ft,u as At,ag as xr,ah as vr,v as Ke,ai as Pt,aj as br,ak as Mr,al as Oe,am as wr,an as Et,Q as Ut,y as kr,ao as Tr,ap as _r,aq as Sr,ar as Cr,as as Dt,A as Re,at as jr,au as Or,G as Yt,W as Jn,av as Rr,X as qr,w as $r,aw as Ze,x as Fr,ax as Ar,ay as Pr,Y as Je,z as Er,az as Bt}from"./nivo-legends.es-1d71344a.js";import{_ as Ur,u as Qe}from"./uniq-653a642e.js";import{g as qe}from"./_commonjsHelpers-de833af9.js";import{a as Lt}from"./_baseIteratee-f9daea57.js";import{B as Dr,N as Yr,u as Br,m as Lr,J as Wt,i as Wr,_ as Ir,a as zr,I as Hr}from"./_baseAssignValue-ffcd1d87.js";import{_ as Gr}from"./_baseMap-25424adc.js";import{P as d}from"./index-01a61e9f.js";function Xr(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=n[i]*(1-a)+e[i]*a;return r}}function Vr(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Nr(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)i[o]=$e(n[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Kr(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function Zr(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=$e(n[i],e[i]):r[i]=e[i];return function(a){for(i in t)r[i]=t[i](a);return r}}function $e(n,e){var t=typeof e,r;return e==null||t==="boolean"?rr(e):(t==="number"?ge:t==="string"?(r=Ge(e))?(e=r,Xe):or:e instanceof Ge?Xe:e instanceof Date?Kr:Vr(e)?Xr:Array.isArray(e)?Nr:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zr:ge)(n,e)}function Jr(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function It(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function Fe(n){let e=n,t=n;n.length===1&&(e=(o,s)=>n(o)-s,t=Qr(n));function r(o,s,u,l){for(u==null&&(u=0),l==null&&(l=o.length);u<l;){const c=u+l>>>1;t(o[c],s)<0?u=c+1:l=c}return u}function i(o,s,u,l){for(u==null&&(u=0),l==null&&(l=o.length);u<l;){const c=u+l>>>1;t(o[c],s)>0?l=c:u=c+1}return u}function a(o,s,u,l){u==null&&(u=0),l==null&&(l=o.length);const c=r(o,s,u,l-1);return c>u&&e(o[c-1],s)>-e(o[c],s)?c-1:c}return{left:r,center:a,right:i}}function Qr(n){return(e,t)=>It(n(e),t)}function no(n){return n===null?NaN:+n}const eo=Fe(It),to=eo.right;Fe(no).center;const io=to;var ye=Math.sqrt(50),pe=Math.sqrt(10),xe=Math.sqrt(2);function ve(n,e,t){var r,i=-1,a,o,s;if(e=+e,n=+n,t=+t,n===e&&t>0)return[n];if((r=e<n)&&(a=n,n=e,e=a),(s=zt(n,e,t))===0||!isFinite(s))return[];if(s>0){let u=Math.round(n/s),l=Math.round(e/s);for(u*s<n&&++u,l*s>e&&--l,o=new Array(a=l-u+1);++i<a;)o[i]=(u+i)*s}else{s=-s;let u=Math.round(n*s),l=Math.round(e*s);for(u/s<n&&++u,l/s>e&&--l,o=new Array(a=l-u+1);++i<a;)o[i]=(u+i)/s}return r&&o.reverse(),o}function zt(n,e,t){var r=(e-n)/Math.max(0,t),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ye?10:a>=pe?5:a>=xe?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ye?10:a>=pe?5:a>=xe?2:1)}function be(n,e,t){var r=Math.abs(e-n)/Math.max(0,t),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ye?i*=10:a>=pe?i*=5:a>=xe&&(i*=2),e<n?-i:i}function ro(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(i);++r<i;)a[r]=n+r*t;return a}function Ae(){var n=ar().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,a,o,s=!1,u=0,l=0,c=.5;delete n.unknown;function h(){var f=e().length,g=i<r,m=g?i:r,y=g?r:i;a=(y-m)/Math.max(1,f-u+l*2),s&&(a=Math.floor(a)),m+=(y-m-a*(f-u))*c,o=a*(1-u),s&&(m=Math.round(m),o=Math.round(o));var p=ro(f).map(function(b){return m+a*b});return t(g?p.reverse():p)}return n.domain=function(f){return arguments.length?(e(f),h()):e()},n.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(f){return arguments.length?(s=!!f,h()):s},n.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),h()):u},n.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},n.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},n.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},n.copy=function(){return Ae(e(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},Yn.apply(h(),arguments)}function Ht(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Ht(e())},n}function oo(){return Ht(Ae.apply(null,arguments).paddingInner(1))}function ao(n){return function(){return n}}function so(n){return+n}var nt=[0,1];function An(n){return n}function Me(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:ao(isNaN(e)?NaN:.5)}function uo(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function lo(n,e,t){var r=n[0],i=n[1],a=e[0],o=e[1];return i<r?(r=Me(i,r),a=t(o,a)):(r=Me(r,i),a=t(a,o)),function(s){return a(r(s))}}function co(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Me(n[o],n[o+1]),a[o]=t(e[o],e[o+1]);return function(s){var u=io(n,s,1,r)-1;return a[u](i[u](s))}}function ae(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Pe(){var n=nt,e=nt,t=$e,r,i,a,o=An,s,u,l;function c(){var f=Math.min(n.length,e.length);return o!==An&&(o=uo(n[0],n[f-1])),s=f>2?co:lo,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?a:(u||(u=s(n.map(r),e,t)))(r(o(f)))}return h.invert=function(f){return o(i((l||(l=s(e,n.map(r),ge)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,so),c()):n.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),t=Jr,c()},h.clamp=function(f){return arguments.length?(o=f?!0:An,c()):o!==An},h.interpolate=function(f){return arguments.length?(t=f,c()):t},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,g){return r=f,i=g,c()}}function Gt(){return Pe()(An,An)}function fo(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Qn(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Un(n){return n=Qn(Math.abs(n)),n?n[1]:NaN}function ho(n,e){return function(t,r){for(var i=t.length,a=[],o=0,s=n[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=n[o=(o+1)%n.length];return a.reverse().join(e)}}function go(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var mo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ne(n){if(!(e=mo.exec(n)))throw new Error("invalid format: "+n);var e;return new Ee({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ne.prototype=Ee.prototype;function Ee(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Ee.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yo(n){n:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Xt;function po(n,e){var t=Qn(n,e);if(!t)return n+"";var r=t[0],i=t[1],a=i-(Xt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qn(n,Math.max(0,e+a-1))[0]}function et(n,e){var t=Qn(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tt={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:fo,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>et(n*100,e),r:et,s:po,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function it(n){return n}var rt=Array.prototype.map,ot=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xo(n){var e=n.grouping===void 0||n.thousands===void 0?it:ho(rt.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?it:go(rt.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"−":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function l(h){h=ne(h);var f=h.fill,g=h.align,m=h.sign,y=h.symbol,p=h.zero,b=h.width,M=h.comma,v=h.precision,q=h.trim,F=h.type;F==="n"?(M=!0,F="g"):tt[F]||(v===void 0&&(v=12),q=!0,F="g"),(p||f==="0"&&g==="=")&&(p=!0,f="0",g="=");var T=y==="$"?t:y==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",U=y==="$"?r:/[%p]/.test(F)?o:"",C=tt[F],P=/[defgprs%]/.test(F);v=v===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function w(x){var O=T,R=U,E,Y,B;if(F==="c")R=C(x)+R,x="";else{x=+x;var _=x<0||1/x<0;if(x=isNaN(x)?u:C(Math.abs(x),v),q&&(x=yo(x)),_&&+x==0&&m!=="+"&&(_=!1),O=(_?m==="("?m:s:m==="-"||m==="("?"":m)+O,R=(F==="s"?ot[8+Xt/3]:"")+R+(_&&m==="("?")":""),P){for(E=-1,Y=x.length;++E<Y;)if(B=x.charCodeAt(E),48>B||B>57){R=(B===46?i+x.slice(E+1):x.slice(E))+R,x=x.slice(0,E);break}}}M&&!p&&(x=e(x,1/0));var j=O.length+x.length+R.length,D=j<b?new Array(b-j+1).join(f):"";switch(M&&p&&(x=e(D+x,D.length?b-R.length:1/0),D=""),g){case"<":x=O+x+R+D;break;case"=":x=O+D+x+R;break;case"^":x=D.slice(0,j=D.length>>1)+O+x+R+D.slice(j);break;default:x=D+O+x+R;break}return a(x)}return w.toString=function(){return h+""},w}function c(h,f){var g=l((h=ne(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Un(f)/3)))*3,y=Math.pow(10,-m),p=ot[8+m/3];return function(b){return g(y*b)+p}}return{format:l,formatPrefix:c}}var Vn,Ue,Vt;vo({thousands:",",grouping:[3],currency:["$",""]});function vo(n){return Vn=xo(n),Ue=Vn.format,Vt=Vn.formatPrefix,Vn}function bo(n){return Math.max(0,-Un(Math.abs(n)))}function Mo(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Un(e)/3)))*3-Un(Math.abs(n)))}function wo(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Un(e)-Un(n))+1}function ko(n,e,t,r){var i=be(n,e,t),a;switch(r=ne(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(a=Mo(i,o))&&(r.precision=a),Vt(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=wo(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bo(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ue(r)}function Nt(n){var e=n.domain;return n.ticks=function(t){var r=e();return ve(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return ko(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=zt(o,s,t),l===u)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return n},n}function Kt(){var n=Gt();return n.copy=function(){return ae(n,Kt())},Yn.apply(n,arguments),Nt(n)}function Zt(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],a=n[r],o;return a<i&&(o=t,t=r,r=o,o=i,i=a,a=o),n[t]=e.floor(i),n[r]=e.ceil(a),n}function at(n){return Math.log(n)}function st(n){return Math.exp(n)}function To(n){return-Math.log(-n)}function _o(n){return-Math.exp(-n)}function So(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Co(n){return n===10?So:n===Math.E?Math.exp:function(e){return Math.pow(n,e)}}function jo(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(e){return Math.log(e)/n})}function ut(n){return function(e){return-n(-e)}}function Oo(n){var e=n(at,st),t=e.domain,r=10,i,a;function o(){return i=jo(r),a=Co(r),t()[0]<0?(i=ut(i),a=ut(a),n(To,_o)):n(at,st),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(t(s),o()):t()},e.ticks=function(s){var u=t(),l=u[0],c=u[u.length-1],h;(h=c<l)&&(f=l,l=c,c=f);var f=i(l),g=i(c),m,y,p,b=s==null?10:+s,M=[];if(!(r%1)&&g-f<b){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(y=1,m=a(f);y<r;++y)if(p=m*y,!(p<l)){if(p>c)break;M.push(p)}}else for(;f<=g;++f)for(y=r-1,m=a(f);y>=1;--y)if(p=m*y,!(p<l)){if(p>c)break;M.push(p)}M.length*2<b&&(M=ve(l,c,b))}else M=ve(f,g,Math.min(g-f,b)).map(a);return h?M.reverse():M},e.tickFormat=function(s,u){if(u==null&&(u=r===10?".0e":","),typeof u!="function"&&(u=Ue(u)),s===1/0)return u;s==null&&(s=10);var l=Math.max(1,r*s/e.ticks().length);return function(c){var h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},e.nice=function(){return t(Zt(t(),{floor:function(s){return a(Math.floor(i(s)))},ceil:function(s){return a(Math.ceil(i(s)))}}))},e}function Jt(){var n=Oo(Pe()).domain([1,10]);return n.copy=function(){return ae(n,Jt()).base(n.base())},Yn.apply(n,arguments),n}function lt(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function ct(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Ro(n){var e=1,t=n(lt(e),ct(e));return t.constant=function(r){return arguments.length?n(lt(e=+r),ct(e)):e},Nt(t)}function Qt(){var n=Ro(Pe());return n.copy=function(){return ae(n,Qt()).constant(n.constant())},Yn.apply(n,arguments)}var ee=gn(function(){},function(n,e){n.setTime(+n+e)},function(n,e){return e-n});ee.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?gn(function(e){e.setTime(Math.floor(e/n)*n)},function(e,t){e.setTime(+e+t*n)},function(e,t){return(t-e)/n}):ee};const qo=ee;ee.range;var ni=gn(function(n){n.setTime(n-n.getMilliseconds())},function(n,e){n.setTime(+n+e*pn)},function(n,e){return(e-n)/pn},function(n){return n.getUTCSeconds()});const Pn=ni;ni.range;var ei=gn(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*pn)},function(n,e){n.setTime(+n+e*dn)},function(n,e){return(e-n)/dn},function(n){return n.getMinutes()});const ti=ei;ei.range;var ii=gn(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*pn-n.getMinutes()*dn)},function(n,e){n.setTime(+n+e*xn)},function(n,e){return(e-n)/xn},function(n){return n.getHours()});const ri=ii;ii.range;var oi=gn(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,e){n.setMonth(n.getMonth()+e)},function(n,e){return e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()});const ai=oi;oi.range;var si=gn(function(n){n.setUTCSeconds(0,0)},function(n,e){n.setTime(+n+e*dn)},function(n,e){return(e-n)/dn},function(n){return n.getUTCMinutes()});const ui=si;si.range;var li=gn(function(n){n.setUTCMinutes(0,0,0)},function(n,e){n.setTime(+n+e*xn)},function(n,e){return(e-n)/xn},function(n){return n.getUTCHours()});const ci=li;li.range;var fi=gn(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCMonth(n.getUTCMonth()+e)},function(n,e){return e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()});const hi=fi;fi.range;function di(n,e,t,r,i,a){const o=[[Pn,1,pn],[Pn,5,5*pn],[Pn,15,15*pn],[Pn,30,30*pn],[a,1,dn],[a,5,5*dn],[a,15,15*dn],[a,30,30*dn],[i,1,xn],[i,3,3*xn],[i,6,6*xn],[i,12,12*xn],[r,1,Ve],[r,2,2*Ve],[t,1,sr],[e,1,Ne],[e,3,3*Ne],[n,1,ue]];function s(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const g=h&&typeof h.range=="function"?h:u(l,c,h),m=g?g.range(l,+c+1):[];return f?m.reverse():m}function u(l,c,h){const f=Math.abs(c-l)/h,g=Fe(([,,p])=>p).right(o,f);if(g===o.length)return n.every(be(l/ue,c/ue,h));if(g===0)return qo.every(Math.max(be(l,c,h),1));const[m,y]=o[f/o[g-1][2]<o[g][2]/f?g-1:g];return m.every(y)}return[s,u]}const[$o,Fo]=di(_t,hi,jt,Ct,ci,ui),[Ao,Po]=di(St,ai,Rt,Ot,ri,ti);function Eo(n){return new Date(n)}function Uo(n){return n instanceof Date?+n:+new Date(+n)}function De(n,e,t,r,i,a,o,s,u,l){var c=Gt(),h=c.invert,f=c.domain,g=l(".%L"),m=l(":%S"),y=l("%I:%M"),p=l("%I %p"),b=l("%a %d"),M=l("%b %d"),v=l("%B"),q=l("%Y");function F(T){return(u(T)<T?g:s(T)<T?m:o(T)<T?y:a(T)<T?p:r(T)<T?i(T)<T?b:M:t(T)<T?v:q)(T)}return c.invert=function(T){return new Date(h(T))},c.domain=function(T){return arguments.length?f(Array.from(T,Uo)):f().map(Eo)},c.ticks=function(T){var U=f();return n(U[0],U[U.length-1],T??10)},c.tickFormat=function(T,U){return U==null?F:l(U)},c.nice=function(T){var U=f();return(!T||typeof T.range!="function")&&(T=e(U[0],U[U.length-1],T??10)),T?f(Zt(U,T)):c},c.copy=function(){return ae(c,De(n,e,t,r,i,a,o,s,u,l))},c}function Do(){return Yn.apply(De(Ao,Po,St,ai,Rt,Ot,ri,ti,Pn,qt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yo(){return Yn.apply(De($o,Fo,_t,hi,jt,Ct,ci,ui,Pn,ur).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bo(){var n=lr,e=null,t=fn(0),r=cr,i=fn(!0),a=null,o=fr,s=null;function u(c){var h,f,g,m=c.length,y,p=!1,b,M=new Array(m),v=new Array(m);for(a==null&&(s=o(b=hr())),h=0;h<=m;++h){if(!(h<m&&i(y=c[h],h,c))===p)if(p=!p)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=f;--g)s.point(M[g],v[g]);s.lineEnd(),s.areaEnd()}p&&(M[h]=+n(y,h,c),v[h]=+t(y,h,c),s.point(e?+e(y,h,c):M[h],r?+r(y,h,c):v[h]))}if(b)return s=null,b+""||null}function l(){return $t().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(n=typeof c=="function"?c:fn(+c),e=null,u):n},u.x0=function(c){return arguments.length?(n=typeof c=="function"?c:fn(+c),u):n},u.x1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:fn(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:fn(+c),r=null,u):t},u.y0=function(c){return arguments.length?(t=typeof c=="function"?c:fn(+c),u):t},u.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:fn(+c),u):r},u.lineX0=u.lineY0=function(){return l().x(n).y(t)},u.lineY1=function(){return l().x(n).y(r)},u.lineX1=function(){return l().x(e).y(t)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:fn(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}var Lo=Lt,Wo=Ur;function Io(n,e){return n&&n.length?Wo(n,Lo(e)):[]}var zo=Io;const Ho=qe(zo);function Go(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}var Xo=Go,ft=Dr;function Vo(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,a=ft(n),o=e!==void 0,s=e===null,u=e===e,l=ft(e);if(!s&&!l&&!a&&n>e||a&&o&&u&&!s&&!l||r&&o&&u||!t&&u||!i)return 1;if(!r&&!a&&!l&&n<e||l&&t&&i&&!r&&!a||s&&t&&i||!o&&i||!u)return-1}return 0}var No=Vo,Ko=No;function Zo(n,e,t){for(var r=-1,i=n.criteria,a=e.criteria,o=i.length,s=t.length;++r<o;){var u=Ko(i[r],a[r]);if(u){if(r>=s)return u;var l=t[r];return u*(l=="desc"?-1:1)}}return n.index-e.index}var Jo=Zo,le=Yr,Qo=Lr,na=Lt,ea=Gr,ta=Xo,ia=Wt,ra=Jo,oa=Br,aa=Wr;function sa(n,e,t){e.length?e=le(e,function(a){return aa(a)?function(o){return Qo(o,a.length===1?a[0]:a)}:a}):e=[oa];var r=-1;e=le(e,ia(na));var i=ea(n,function(a,o,s){var u=le(e,function(l){return l(a)});return{criteria:u,index:++r,value:a}});return ta(i,function(a,o){return ra(a,o,t)})}var ua=sa,la=gr,ca=ua,fa=dr,ht=mr,ha=fa(function(n,e){if(n==null)return[];var t=e.length;return t>1&&ht(n,e[0],e[1])?e=[]:t>2&&ht(e[0],e[1],e[2])&&(e=[e[0]]),ca(n,la(e,1),[])}),da=ha;const ga=qe(da);var ma=Ir,ya=zr,pa="[object Date]";function xa(n){return ya(n)&&ma(n)==pa}var va=xa,ba=va,Ma=Wt,dt=Hr,gt=dt&&dt.isDate,wa=gt?Ma(gt):ba,ka=wa;const Ta=qe(ka);var ce=new Date,fe=new Date;function V(n,e,t,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return n(a=new Date(+a)),a},i.ceil=function(a){return n(a=new Date(a-1)),e(a,1),n(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return e(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var u=[],l;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;do u.push(l=new Date(+a)),e(a,s),n(a);while(l<a&&a<o);return u},i.filter=function(a){return V(function(o){if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););})},t&&(i.count=function(a,o){return ce.setTime(+a),fe.setTime(+o),n(ce),n(fe),Math.floor(t(ce,fe))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var te=V(function(){},function(n,e){n.setTime(+n+e)},function(n,e){return e-n});te.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?V(function(e){e.setTime(Math.floor(e/n)*n)},function(e,t){e.setTime(+e+t*n)},function(e,t){return(t-e)/n}):te};const mt=te;te.range;var ie=1e3,Dn=6e4,re=36e5,gi=6048e5,mi=V(function(n){n.setTime(n-n.getMilliseconds())},function(n,e){n.setTime(+n+e*ie)},function(n,e){return(e-n)/ie},function(n){return n.getUTCSeconds()});const yt=mi;mi.range;var yi=V(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*ie)},function(n,e){n.setTime(+n+e*Dn)},function(n,e){return(e-n)/Dn},function(n){return n.getMinutes()});const _a=yi;yi.range;var pi=V(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*ie-n.getMinutes()*Dn)},function(n,e){n.setTime(+n+e*re)},function(n,e){return(e-n)/re},function(n){return n.getHours()});const Sa=pi;pi.range;function jn(n){return V(function(e){e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t*7)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/gi})}var we=jn(0),xi=jn(1),vi=jn(2),bi=jn(3),Mi=jn(4),wi=jn(5),ki=jn(6);we.range;xi.range;vi.range;bi.range;Mi.range;wi.range;ki.range;var Ti=V(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,e){n.setMonth(n.getMonth()+e)},function(n,e){return e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()});const Ca=Ti;Ti.range;var Ye=V(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e)},function(n,e){return e.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});Ye.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:V(function(e){e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t*n)})};const ja=Ye;Ye.range;var _i=V(function(n){n.setUTCSeconds(0,0)},function(n,e){n.setTime(+n+e*Dn)},function(n,e){return(e-n)/Dn},function(n){return n.getUTCMinutes()});const Oa=_i;_i.range;var Si=V(function(n){n.setUTCMinutes(0,0,0)},function(n,e){n.setTime(+n+e*re)},function(n,e){return(e-n)/re},function(n){return n.getUTCHours()});const Ra=Si;Si.range;function On(n){return V(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t*7)},function(e,t){return(t-e)/gi})}var ke=On(0),Ci=On(1),ji=On(2),Oi=On(3),Ri=On(4),qi=On(5),$i=On(6);ke.range;Ci.range;ji.range;Oi.range;Ri.range;qi.range;$i.range;var Fi=V(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCMonth(n.getUTCMonth()+e)},function(n,e){return e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()});const qa=Fi;Fi.range;var Be=V(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e)},function(n,e){return e.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});Be.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:V(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t*n)})};const $a=Be;Be.range;function _n(){return _n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_n.apply(this,arguments)}var $n=[function(n){return n.setMilliseconds(0)},function(n){return n.setSeconds(0)},function(n){return n.setMinutes(0)},function(n){return n.setHours(0)},function(n){return n.setDate(1)},function(n){return n.setMonth(0)}],Fa={millisecond:[],second:$n.slice(0,1),minute:$n.slice(0,2),hour:$n.slice(0,3),day:$n.slice(0,4),month:$n.slice(0,5),year:$n.slice(0,6)},Aa=function(n){return function(e){return Fa[n].forEach(function(t){t(e)}),e}},Ai=function(n){var e=n.format,t=e===void 0?"native":e,r=n.precision,i=r===void 0?"millisecond":r,a=n.useUTC,o=a===void 0||a,s=Aa(i);return function(u){if(u===void 0)return u;if(t==="native"||u instanceof Date)return s(u);var l=o?yr(t):pr(t);return s(l(u))}},Pa=function(n,e,t,r){var i,a,o,s,u=n.min,l=u===void 0?0:u,c=n.max,h=c===void 0?"auto":c,f=n.stacked,g=f!==void 0&&f,m=n.reverse,y=m!==void 0&&m,p=n.clamp,b=p!==void 0&&p,M=n.nice,v=M!==void 0&&M;l==="auto"?i=g===!0?(a=e.minStacked)!=null?a:0:e.min:i=l,h==="auto"?o=g===!0?(s=e.maxStacked)!=null?s:0:e.max:o=h;var q=Kt().rangeRound(r==="x"?[0,t]:[t,0]).domain(y?[o,i]:[i,o]).clamp(b);return v===!0?q.nice():typeof v=="number"&&q.nice(v),Ea(q,g)},Ea=function(n,e){e===void 0&&(e=!1);var t=n;return t.type="linear",t.stacked=e,t},Ua=function(n,e,t){var r=oo().range([0,t]).domain(e.all);return r.type="point",r},Da=function(n,e,t,r){var i=n.round,a=i===void 0||i,o=Ae().range(r==="x"?[0,t]:[t,0]).domain(e.all).round(a);return Ya(o)},Ya=function(n){var e=n;return e.type="band",e},Ba=function(n,e,t){var r,i,a=n.format,o=a===void 0?"native":a,s=n.precision,u=s===void 0?"millisecond":s,l=n.min,c=l===void 0?"auto":l,h=n.max,f=h===void 0?"auto":h,g=n.useUTC,m=g===void 0||g,y=n.nice,p=y!==void 0&&y,b=Ai({format:o,precision:u,useUTC:m});r=c==="auto"?b(e.min):o!=="native"?b(c):c,i=f==="auto"?b(e.max):o!=="native"?b(f):f;var M=m?Yo():Do();M.range([0,t]),r&&i&&M.domain([r,i]),p===!0?M.nice():typeof p!="object"&&typeof p!="number"||M.nice(p);var v=M;return v.type="time",v.useUTC=m,v},La=function(n,e,t,r){var i,a=n.base,o=a===void 0?10:a,s=n.min,u=s===void 0?"auto":s,l=n.max,c=l===void 0?"auto":l;if(e.all.some(function(y){return y===0}))throw new Error("a log scale domain must not include or cross zero");var h,f,g=!1;if(e.all.filter(function(y){return y!=null}).forEach(function(y){g||(i===void 0?i=Math.sign(y):Math.sign(y)!==i&&(g=!0))}),g)throw new Error("a log scale domain must be strictly-positive or strictly-negative");h=u==="auto"?e.min:u,f=c==="auto"?e.max:c;var m=Jt().domain([h,f]).rangeRound(r==="x"?[0,t]:[t,0]).base(o).nice();return m.type="log",m},Wa=function(n,e,t,r){var i,a,o=n.constant,s=o===void 0?1:o,u=n.min,l=u===void 0?"auto":u,c=n.max,h=c===void 0?"auto":c,f=n.reverse,g=f!==void 0&&f;i=l==="auto"?e.min:l,a=h==="auto"?e.max:h;var m=Qt().constant(s).rangeRound(r==="x"?[0,t]:[t,0]).nice();g===!0?m.domain([a,i]):m.domain([i,a]);var y=m;return y.type="symlog",y},Ia=function(n){return n==="x"?"y":"x"},za=function(n,e){return n===e},Ha=function(n,e){return n.getTime()===e.getTime()};function pt(n,e,t,r){switch(n.type){case"linear":return Pa(n,e,t,r);case"point":return Ua(n,e,t);case"band":return Da(n,e,t,r);case"time":return Ba(n,e,t);case"log":return La(n,e,t,r);case"symlog":return Wa(n,e,t,r);default:throw new Error("invalid scale spec")}}var xt=function(n,e,t){var r;if("stacked"in t&&t.stacked){var i=n.data[e==="x"?"xStacked":"yStacked"];return i==null?null:t(i)}return(r=t(n.data[e]))!=null?r:null},Ga=function(n,e,t,r,i){var a=n.map(function(c){return function(h){return _n({},h,{data:h.data.map(function(f){return{data:_n({},f)}})})}(c)}),o=Xa(a,e,t);"stacked"in e&&e.stacked===!0&&Va(o,a),"stacked"in t&&t.stacked===!0&&Na(o,a);var s=pt(e,o.x,r,"x"),u=pt(t,o.y,i,"y"),l=a.map(function(c){return _n({},c,{data:c.data.map(function(h){return _n({},h,{position:{x:xt(h,"x",s),y:xt(h,"y",u)}})})})});return _n({},o,{series:l,xScale:s,yScale:u})},Xa=function(n,e,t){return{x:vt(n,"x",e),y:vt(n,"y",t)}},vt=function(n,e,t,r){var i=r===void 0?{}:r,a=i.getValue,o=a===void 0?function(m){return m.data[e]}:a,s=i.setValue,u=s===void 0?function(m,y){m.data[e]=y}:s;if(t.type==="linear")n.forEach(function(m){m.data.forEach(function(y){var p=o(y);p&&u(y,parseFloat(String(p)))})});else if(t.type==="time"&&t.format!=="native"){var l=Ai(t);n.forEach(function(m){m.data.forEach(function(y){var p=o(y);p&&u(y,l(p))})})}var c=[];switch(n.forEach(function(m){m.data.forEach(function(y){c.push(o(y))})}),t.type){case"linear":var h=ga(Qe(c).filter(function(m){return m!==null}),function(m){return m});return{all:h,min:Math.min.apply(Math,h),max:Math.max.apply(Math,h)};case"time":var f=Ho(c,function(m){return m.getTime()}).slice(0).sort(function(m,y){return y.getTime()-m.getTime()}).reverse();return{all:f,min:f[0],max:me(f)};default:var g=Qe(c);return{all:g,min:g[0],max:me(g)}}},Pi=function(n,e,t){var r=Ia(n),i=[];e[r].all.forEach(function(a){var o=Ta(a)?Ha:za,s=[];t.forEach(function(u){var l=u.data.find(function(g){return o(g.data[r],a)}),c=null,h=null;if(l!==void 0){if((c=l.data[n])!==null){var f=me(s);f===void 0?h=c:f!==null&&(h=f+c)}l.data[n==="x"?"xStacked":"yStacked"]=h}s.push(h),h!==null&&i.push(h)})}),e[n].minStacked=Math.min.apply(Math,i),e[n].maxStacked=Math.max.apply(Math,i)},Va=function(n,e){return Pi("x",n,e)},Na=function(n,e){return Pi("y",n,e)},Ei=function(n){var e=n.bandwidth();if(e===0)return n;var t=e/2;return n.round()&&(t=Math.round(t)),function(r){var i;return((i=n(r))!=null?i:0)+t}},Ui={millisecond:[mt,mt],second:[yt,yt],minute:[_a,Oa],hour:[Sa,Ra],day:[V(function(n){return n.setHours(0,0,0,0)},function(n,e){return n.setDate(n.getDate()+e)},function(n,e){return(e.getTime()-n.getTime())/864e5},function(n){return Math.floor(n.getTime()/864e5)}),V(function(n){return n.setUTCHours(0,0,0,0)},function(n,e){return n.setUTCDate(n.getUTCDate()+e)},function(n,e){return(e.getTime()-n.getTime())/864e5},function(n){return Math.floor(n.getTime()/864e5)})],week:[we,ke],sunday:[we,ke],monday:[xi,Ci],tuesday:[vi,ji],wednesday:[bi,Oi],thursday:[Mi,Ri],friday:[wi,qi],saturday:[ki,$i],month:[Ca,qa],year:[ja,$a]},Ka=Object.keys(Ui),Za=new RegExp("^every\\s*(\\d+)?\\s*("+Ka.join("|")+")s?$","i"),Di=function(n,e){if(Array.isArray(e))return e;if(typeof e=="string"&&"useUTC"in n){var t=e.match(Za);if(t){var r=t[1],i=t[2],a=Ui[i][n.useUTC?1:0];if(i==="day"){var o,s,u=n.domain(),l=u[0],c=u[1],h=new Date(c);return h.setDate(h.getDate()+1),(o=(s=a.every(Number(r??1)))==null?void 0:s.range(l,h))!=null?o:[]}if(r===void 0)return n.ticks(a);var f=a.every(Number(r));if(f)return n.ticks(f)}throw new Error("Invalid tickValues: "+e)}if("ticks"in n){if(e===void 0)return n.ticks();if(typeof(g=e)=="number"&&isFinite(g)&&Math.floor(g)===g)return n.ticks(e)}var g;return n.domain()};function sn(){return sn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sn.apply(this,arguments)}var Yi=function(n){var e,t=n.axis,r=n.scale,i=n.ticksPosition,a=n.tickValues,o=n.tickSize,s=n.tickPadding,u=n.tickRotation,l=n.engine,c=l===void 0?"svg":l,h=Di(r,a),f=vr[c],g="bandwidth"in r?Ei(r):r,m={lineX:0,lineY:0},y={textX:0,textY:0},p=typeof document=="object"&&document.dir==="rtl",b=f.align.center,M=f.baseline.center;return t==="x"?(e=function(v){var q;return{x:(q=g(v))!=null?q:0,y:0}},m.lineY=o*(i==="after"?1:-1),y.textY=(o+s)*(i==="after"?1:-1),M=i==="after"?f.baseline.top:f.baseline.bottom,u===0?b=f.align.center:i==="after"&&u<0||i==="before"&&u>0?(b=f.align[p?"left":"right"],M=f.baseline.center):(i==="after"&&u>0||i==="before"&&u<0)&&(b=f.align[p?"right":"left"],M=f.baseline.center)):(e=function(v){var q;return{x:0,y:(q=g(v))!=null?q:0}},m.lineX=o*(i==="after"?1:-1),y.textX=(o+s)*(i==="after"?1:-1),b=i==="after"?f.align.left:f.align.right),{ticks:h.map(function(v){return sn({key:v instanceof Date?""+v.valueOf():""+v,value:v},e(v),m,y)}),textAlign:b,textBaseline:M}},Bi=function(n,e){if(n===void 0||typeof n=="function")return n;if(e.type==="time"){var t=qt(n);return function(r){return t(r instanceof Date?r:new Date(r))}}return xr(n)},Te=function(n){var e,t=n.width,r=n.height,i=n.scale,a=n.axis,o=n.values,s=(e=o,(Array.isArray(e)?o:void 0)||Di(i,o)),u="bandwidth"in i?Ei(i):i,l=a==="x"?s.map(function(c){var h,f;return{key:c instanceof Date?""+c.valueOf():""+c,x1:(h=u(c))!=null?h:0,x2:(f=u(c))!=null?f:0,y1:0,y2:r}}):s.map(function(c){var h,f;return{key:c instanceof Date?""+c.valueOf():""+c,x1:0,x2:t,y1:(h=u(c))!=null?h:0,y2:(f=u(c))!=null?f:0}});return l},Ja=k.memo(function(n){var e,t=n.value,r=n.format,i=n.lineX,a=n.lineY,o=n.onClick,s=n.textBaseline,u=n.textAnchor,l=n.animatedProps,c=vn(),h=(e=r==null?void 0:r(t))!=null?e:t,f=k.useMemo(function(){var g={opacity:l.opacity};return o?{style:sn({},g,{cursor:"pointer"}),onClick:function(m){return o(m,h)}}:{style:g}},[l.opacity,o,h]);return S.jsxs(Cn.g,sn({transform:l.transform},f,{children:[S.jsx("line",{x1:0,x2:i,y1:0,y2:a,style:c.axis.ticks.line}),S.jsx(Cn.text,{dominantBaseline:s,textAnchor:u,transform:l.textTransform,style:c.axis.ticks.text,children:""+h})]}))}),Qa=k.memo(function(n){var e=n.axis,t=n.scale,r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.length,u=n.ticksPosition,l=n.tickValues,c=n.tickSize,h=c===void 0?5:c,f=n.tickPadding,g=f===void 0?5:f,m=n.tickRotation,y=m===void 0?0:m,p=n.format,b=n.renderTick,M=b===void 0?Ja:b,v=n.legend,q=n.legendPosition,F=q===void 0?"end":q,T=n.legendOffset,U=T===void 0?0:T,C=n.onClick,P=n.ariaHidden,w=vn(),x=k.useMemo(function(){return Bi(p,t)},[p,t]),O=Yi({axis:e,scale:t,ticksPosition:u,tickValues:l,tickSize:h,tickPadding:g,tickRotation:y}),R=O.ticks,E=O.textAlign,Y=O.textBaseline,B=null;if(v!==void 0){var _,j=0,D=0,z=0;e==="y"?(z=-90,j=U,F==="start"?(_="start",D=s):F==="middle"?(_="middle",D=s/2):F==="end"&&(_="end")):(D=U,F==="start"?_="start":F==="middle"?(_="middle",j=s/2):F==="end"&&(_="end",j=s)),B=S.jsx("text",{transform:"translate("+j+", "+D+") rotate("+z+")",textAnchor:_,style:sn({dominantBaseline:"central"},w.axis.legend.text),children:v})}var G=je(),Z=G.animate,J=G.config,N=Ft({transform:"translate("+i+","+o+")",lineX2:e==="x"?s:0,lineY2:e==="x"?0:s,config:J,immediate:!Z}),L=At(R,{keys:function(A){return A.key},initial:function(A){return{opacity:1,transform:"translate("+A.x+","+A.y+")",textTransform:"translate("+A.textX+","+A.textY+") rotate("+y+")"}},from:function(A){return{opacity:0,transform:"translate("+A.x+","+A.y+")",textTransform:"translate("+A.textX+","+A.textY+") rotate("+y+")"}},enter:function(A){return{opacity:1,transform:"translate("+A.x+","+A.y+")",textTransform:"translate("+A.textX+","+A.textY+") rotate("+y+")"}},update:function(A){return{opacity:1,transform:"translate("+A.x+","+A.y+")",textTransform:"translate("+A.textX+","+A.textY+") rotate("+y+")"}},leave:{opacity:0},config:J,immediate:!Z});return S.jsxs(Cn.g,{transform:N.transform,"aria-hidden":P,children:[L(function(A,W,X,cn){return k.createElement(M,sn({tickIndex:cn,format:x,rotate:y,textBaseline:Y,textAnchor:E,animatedProps:A},W,C?{onClick:C}:{}))}),S.jsx(Cn.line,{style:w.axis.domain.line,x1:0,x2:N.lineX2,y1:0,y2:N.lineY2}),B]})}),ns={ticksPosition:d.oneOf(["before","after"]),tickValues:d.oneOfType([d.number,d.arrayOf(d.oneOfType([d.number,d.string,d.instanceOf(Date)])),d.string]),tickSize:d.number,tickPadding:d.number,tickRotation:d.number,format:d.oneOfType([d.func,d.string]),renderTick:d.func,legend:d.node,legendPosition:d.oneOf(["start","middle","end"]),legendOffset:d.number,ariaHidden:d.bool},Nn=d.shape(ns),Li=["top","right","bottom","left"],es=k.memo(function(n){var e=n.xScale,t=n.yScale,r=n.width,i=n.height,a={top:n.top,right:n.right,bottom:n.bottom,left:n.left};return S.jsx(S.Fragment,{children:Li.map(function(o){var s=a[o];if(!s)return null;var u=o==="top"||o==="bottom";return S.jsx(Qa,sn({},s,{axis:u?"x":"y",x:o==="right"?r:0,y:o==="bottom"?i:0,scale:u?e:t,length:u?r:i,ticksPosition:o==="top"||o==="left"?"before":"after"}),o)})})}),ts=k.memo(function(n){var e=n.animatedProps,t=vn();return S.jsx(Cn.line,sn({},e,t.grid.line))}),bt=k.memo(function(n){var e=n.lines,t=je(),r=t.animate,i=t.config,a=At(e,{keys:function(o){return o.key},initial:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},from:function(o){return{opacity:0,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},enter:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},update:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},leave:{opacity:0},config:i,immediate:!r});return S.jsx("g",{children:a(function(o,s){return k.createElement(ts,sn({},s,{key:s.key,animatedProps:o}))})})}),is=k.memo(function(n){var e=n.width,t=n.height,r=n.xScale,i=n.yScale,a=n.xValues,o=n.yValues,s=k.useMemo(function(){return!!r&&Te({width:e,height:t,scale:r,axis:"x",values:a})},[r,a,e,t]),u=k.useMemo(function(){return!!i&&Te({width:e,height:t,scale:i,axis:"y",values:o})},[t,e,i,o]);return S.jsxs(S.Fragment,{children:[s&&S.jsx(bt,{lines:s}),u&&S.jsx(bt,{lines:u})]})}),rs=function(n,e){var t,r=e.axis,i=e.scale,a=e.x,o=a===void 0?0:a,s=e.y,u=s===void 0?0:s,l=e.length,c=e.ticksPosition,h=e.tickValues,f=e.tickSize,g=f===void 0?5:f,m=e.tickPadding,y=m===void 0?5:m,p=e.tickRotation,b=p===void 0?0:p,M=e.format,v=e.legend,q=e.legendPosition,F=q===void 0?"end":q,T=e.legendOffset,U=T===void 0?0:T,C=e.theme,P=Yi({axis:r,scale:i,ticksPosition:c,tickValues:h,tickSize:g,tickPadding:y,tickRotation:b,engine:"canvas"}),w=P.ticks,x=P.textAlign,O=P.textBaseline;n.save(),n.translate(o,u),n.textAlign=x,n.textBaseline=O,n.font=(C.axis.ticks.text.fontWeight?C.axis.ticks.text.fontWeight+" ":"")+C.axis.ticks.text.fontSize+"px "+C.axis.ticks.text.fontFamily,((t=C.axis.domain.line.strokeWidth)!=null?t:0)>0&&(n.lineWidth=Number(C.axis.domain.line.strokeWidth),n.lineCap="square",C.axis.domain.line.stroke&&(n.strokeStyle=C.axis.domain.line.stroke),n.beginPath(),n.moveTo(0,0),n.lineTo(r==="x"?l:0,r==="x"?0:l),n.stroke());var R=typeof M=="function"?M:function(j){return""+j};if(w.forEach(function(j){var D;((D=C.axis.ticks.line.strokeWidth)!=null?D:0)>0&&(n.lineWidth=Number(C.axis.ticks.line.strokeWidth),n.lineCap="square",C.axis.ticks.line.stroke&&(n.strokeStyle=C.axis.ticks.line.stroke),n.beginPath(),n.moveTo(j.x,j.y),n.lineTo(j.x+j.lineX,j.y+j.lineY),n.stroke());var z=R(j.value);n.save(),n.translate(j.x+j.textX,j.y+j.textY),n.rotate(Ke(b)),C.axis.ticks.text.fill&&(n.fillStyle=C.axis.ticks.text.fill),n.fillText(String(z),0,0),n.restore()}),v!==void 0){var E=0,Y=0,B=0,_="center";r==="y"?(B=-90,E=U,F==="start"?(_="start",Y=l):F==="middle"?(_="center",Y=l/2):F==="end"&&(_="end")):(Y=U,F==="start"?_="start":F==="middle"?(_="center",E=l/2):F==="end"&&(_="end",E=l)),n.translate(E,Y),n.rotate(Ke(B)),n.font=(C.axis.legend.text.fontWeight?C.axis.legend.text.fontWeight+" ":"")+C.axis.legend.text.fontSize+"px "+C.axis.legend.text.fontFamily,C.axis.legend.text.fill&&(n.fillStyle=C.axis.legend.text.fill),n.textAlign=_,n.textBaseline="middle",n.fillText(v,0,0)}n.restore()},os=function(n,e){var t=e.xScale,r=e.yScale,i=e.width,a=e.height,o=e.top,s=e.right,u=e.bottom,l=e.left,c=e.theme,h={top:o,right:s,bottom:u,left:l};Li.forEach(function(f){var g=h[f];if(!g)return null;var m=f==="top"||f==="bottom",y=f==="top"||f==="left"?"before":"after",p=m?t:r,b=Bi(g.format,p);rs(n,sn({},g,{axis:m?"x":"y",x:f==="right"?i:0,y:f==="bottom"?a:0,scale:p,format:b,length:m?i:a,ticksPosition:y,theme:c}))})},Mt=function(n,e){var t=e.width,r=e.height,i=e.scale,a=e.axis,o=e.values;Te({width:t,height:r,scale:i,axis:a,values:o}).forEach(function(s){n.beginPath(),n.moveTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.stroke()})};const wt=Math.pow(2,-52),Kn=new Uint32Array(512);class oe{static from(e,t=cs,r=fs){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=e[o];a[2*o]=t(s),a[2*o+1]=r(s)}return new oe(a)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*t-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=e.length>>1;let s=1/0,u=1/0,l=-1/0,c=-1/0;for(let w=0;w<o;w++){const x=e[2*w],O=e[2*w+1];x<s&&(s=x),O<u&&(u=O),x>l&&(l=x),O>c&&(c=O),this._ids[w]=w}const h=(s+l)/2,f=(u+c)/2;let g=1/0,m,y,p;for(let w=0;w<o;w++){const x=he(h,f,e[2*w],e[2*w+1]);x<g&&(m=w,g=x)}const b=e[2*m],M=e[2*m+1];g=1/0;for(let w=0;w<o;w++){if(w===m)continue;const x=he(b,M,e[2*w],e[2*w+1]);x<g&&x>0&&(y=w,g=x)}let v=e[2*y],q=e[2*y+1],F=1/0;for(let w=0;w<o;w++){if(w===m||w===y)continue;const x=us(b,M,v,q,e[2*w],e[2*w+1]);x<F&&(p=w,F=x)}let T=e[2*p],U=e[2*p+1];if(F===1/0){for(let O=0;O<o;O++)this._dists[O]=e[2*O]-e[0]||e[2*O+1]-e[1];En(this._ids,this._dists,0,o-1);const w=new Uint32Array(o);let x=0;for(let O=0,R=-1/0;O<o;O++){const E=this._ids[O];this._dists[E]>R&&(w[x++]=E,R=this._dists[E])}this.hull=w.subarray(0,x),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Zn(b,M,v,q,T,U)){const w=y,x=v,O=q;y=p,v=T,q=U,p=w,T=x,U=O}const C=ls(b,M,v,q,T,U);this._cx=C.x,this._cy=C.y;for(let w=0;w<o;w++)this._dists[w]=he(e[2*w],e[2*w+1],C.x,C.y);En(this._ids,this._dists,0,o-1),this._hullStart=m;let P=3;r[m]=t[p]=y,r[y]=t[m]=p,r[p]=t[y]=m,i[m]=0,i[y]=1,i[p]=2,a.fill(-1),a[this._hashKey(b,M)]=m,a[this._hashKey(v,q)]=y,a[this._hashKey(T,U)]=p,this.trianglesLen=0,this._addTriangle(m,y,p,-1,-1,-1);for(let w=0,x,O;w<this._ids.length;w++){const R=this._ids[w],E=e[2*R],Y=e[2*R+1];if(w>0&&Math.abs(E-x)<=wt&&Math.abs(Y-O)<=wt||(x=E,O=Y,R===m||R===y||R===p))continue;let B=0;for(let G=0,Z=this._hashKey(E,Y);G<this._hashSize&&(B=a[(Z+G)%this._hashSize],!(B!==-1&&B!==r[B]));G++);B=t[B];let _=B,j;for(;j=r[_],!Zn(E,Y,e[2*_],e[2*_+1],e[2*j],e[2*j+1]);)if(_=j,_===B){_=-1;break}if(_===-1)continue;let D=this._addTriangle(_,R,r[_],-1,-1,i[_]);i[R]=this._legalize(D+2),i[_]=D,P++;let z=r[_];for(;j=r[z],Zn(E,Y,e[2*z],e[2*z+1],e[2*j],e[2*j+1]);)D=this._addTriangle(z,R,j,i[R],-1,i[z]),i[R]=this._legalize(D+2),r[z]=z,P--,z=j;if(_===B)for(;j=t[_],Zn(E,Y,e[2*j],e[2*j+1],e[2*_],e[2*_+1]);)D=this._addTriangle(j,R,_,-1,i[_],i[j]),this._legalize(D+2),i[j]=D,r[_]=_,P--,_=j;this._hullStart=t[R]=_,r[_]=t[z]=R,r[R]=z,a[this._hashKey(E,Y)]=R,a[this._hashKey(e[2*_],e[2*_+1])]=_}this.hull=new Uint32Array(P);for(let w=0,x=this._hullStart;w<P;w++)this.hull[w]=x,x=r[x];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(as(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[e],u=e-e%3;if(o=u+(e+2)%3,s===-1){if(a===0)break;e=Kn[--a];continue}const l=s-s%3,c=u+(e+1)%3,h=l+(s+2)%3,f=t[o],g=t[e],m=t[c],y=t[h];if(ss(i[2*f],i[2*f+1],i[2*g],i[2*g+1],i[2*m],i[2*m+1],i[2*y],i[2*y+1])){t[e]=y,t[s]=f;const b=r[h];if(b===-1){let v=this._hullStart;do{if(this._hullTri[v]===h){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,b),this._link(s,r[o]),this._link(o,h);const M=l+(s+1)%3;a<Kn.length&&(Kn[a++]=M)}else{if(a===0)break;e=Kn[--a]}}return o}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function as(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function he(n,e,t,r){const i=n-t,a=e-r;return i*i+a*a}function de(n,e,t,r,i,a){const o=(r-e)*(i-n),s=(t-n)*(a-e);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function Zn(n,e,t,r,i,a){return(de(i,a,n,e,t,r)||de(n,e,t,r,i,a)||de(t,r,i,a,n,e))<0}function ss(n,e,t,r,i,a,o,s){const u=n-o,l=e-s,c=t-o,h=r-s,f=i-o,g=a-s,m=u*u+l*l,y=c*c+h*h,p=f*f+g*g;return u*(h*p-y*g)-l*(c*p-y*f)+m*(c*g-h*f)<0}function us(n,e,t,r,i,a){const o=t-n,s=r-e,u=i-n,l=a-e,c=o*o+s*s,h=u*u+l*l,f=.5/(o*l-s*u),g=(l*c-s*h)*f,m=(o*h-u*c)*f;return g*g+m*m}function ls(n,e,t,r,i,a){const o=t-n,s=r-e,u=i-n,l=a-e,c=o*o+s*s,h=u*u+l*l,f=.5/(o*l-s*u),g=n+(l*c-s*h)*f,m=e+(o*h-u*c)*f;return{x:g,y:m}}function En(n,e,t,r){if(r-t<=20)for(let i=t+1;i<=r;i++){const a=n[i],o=e[a];let s=i-1;for(;s>=t&&e[n[s]]>o;)n[s+1]=n[s--];n[s+1]=a}else{const i=t+r>>1;let a=t+1,o=r;In(n,i,a),e[n[t]]>e[n[r]]&&In(n,t,r),e[n[a]]>e[n[r]]&&In(n,a,r),e[n[t]]>e[n[a]]&&In(n,t,a);const s=n[a],u=e[s];for(;;){do a++;while(e[n[a]]<u);do o--;while(e[n[o]]>u);if(o<a)break;In(n,a,o)}n[t+1]=n[o],n[o]=s,r-a+1>=o-t?(En(n,e,a,r),En(n,e,t,o-1)):(En(n,e,t,o-1),En(n,e,a,r))}}function In(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function cs(n){return n[0]}function fs(n){return n[1]}const kt=1e-6;class Sn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,r){e=+e,t=+t,r=+r;const i=e+r,a=t;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>kt||Math.abs(this._y1-a)>kt)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${e-r},${t}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(e,t,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class _e{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class hs{constructor(e,[t,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=t,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:r},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,p,b;g<y;g+=3,m+=2){const M=r[g]*2,v=r[g+1]*2,q=r[g+2]*2,F=e[M],T=e[M+1],U=e[v],C=e[v+1],P=e[q],w=e[q+1],x=U-F,O=C-T,R=P-F,E=w-T,Y=x*x+O*O,B=R*R+E*E,_=(x*E-O*R)*2;if(!_)p=(F+P)/2-1e8*E,b=(T+w)/2+1e8*R;else if(Math.abs(_)<1e-8)p=(F+P)/2,b=(T+w)/2;else{const j=1/_;p=F+(E*Y-O*B)*j,b=T+(x*B-R*Y)*j}a[m]=p,a[m+1]=b}let o=t[t.length-1],s,u=o*4,l,c=e[2*o],h,f=e[2*o+1];i.fill(0);for(let g=0;g<t.length;++g)o=t[g],s=u,l=c,h=f,u=o*4,c=e[2*o],f=e[2*o+1],i[s+2]=i[u]=h-f,i[s+3]=i[u+1]=c-l}render(e){const t=e==null?e=new Sn:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f<c)continue;const g=Math.floor(c/3)*2,m=Math.floor(f/3)*2,y=o[g],p=o[g+1],b=o[m],M=o[m+1];this._renderSegment(y,p,b,M,e)}let u,l=a[a.length-1];for(let c=0;c<a.length;++c){u=l,l=a[c];const h=Math.floor(i[l]/3)*2,f=o[h],g=o[h+1],m=u*4,y=this._project(f,g,s[m+2],s[m+3]);y&&this._renderSegment(f,g,y[0],y[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new Sn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const r=t==null?t=new Sn:void 0,i=this._clip(e);if(i===null||!i.length)return;t.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&t.lineTo(i[o],i[o+1]);return t.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,r=e.length/2;t<r;++t){const i=this.cellPolygon(t);i&&(i.index=t,yield i)}}cellPolygon(e){const t=new _e;return this.renderCell(e,t),t.value()}_renderSegment(e,t,r,i,a){let o;const s=this._regioncode(e,t),u=this._regioncode(r,i);s===0&&u===0?(a.moveTo(e,t),a.lineTo(r,i)):(o=this._clipSegment(e,t,r,i,s,u))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(e,t,r){return t=+t,t!==t||(r=+r,r!==r)?!1:this.delaunay._step(e,t,r)===e}*neighbors(e){const t=this._clip(e);if(t)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){n:for(let a=0,o=t.length;a<o;a+=2)for(let s=0,u=i.length;s<u;s+=2)if(t[a]==i[s]&&t[a+1]==i[s+1]&&t[(a+2)%o]==i[(s+u-2)%u]&&t[(a+3)%o]==i[(s+u-1)%u]){yield r;break n}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[e];if(o===-1)return null;const s=[];let u=o;do{const l=Math.floor(u/3);if(s.push(t[l*2],t[l*2+1]),u=u%3===2?u-2:u+1,a[u]!==e)break;u=i[u]}while(u!==o&&u!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:r}=this,i=e*4;return r[i]||r[i+1]?this._clipInfinite(e,t,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,t)}_clipFinite(e,t){const r=t.length;let i=null,a,o,s=t[r-2],u=t[r-1],l,c=this._regioncode(s,u),h,f;for(let g=0;g<r;g+=2)if(a=s,o=u,s=t[g],u=t[g+1],l=c,c=this._regioncode(s,u),l===0&&c===0)h=f,f=0,i?i.push(s,u):i=[s,u];else{let m,y,p,b,M;if(l===0){if((m=this._clipSegment(a,o,s,u,l,c))===null)continue;[y,p,b,M]=m}else{if((m=this._clipSegment(s,u,a,o,c,l))===null)continue;[b,M,y,p]=m,h=f,f=this._edgecode(y,p),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(y,p):i=[y,p]}h=f,f=this._edgecode(b,M),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(b,M):i=[b,M]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,t,r,i,a,o){for(;;){if(a===0&&o===0)return[e,t,r,i];if(a&o)return null;let s,u,l=a||o;l&8?(s=e+(r-e)*(this.ymax-t)/(i-t),u=this.ymax):l&4?(s=e+(r-e)*(this.ymin-t)/(i-t),u=this.ymin):l&2?(u=t+(i-t)*(this.xmax-e)/(r-e),s=this.xmax):(u=t+(i-t)*(this.xmin-e)/(r-e),s=this.xmin),a?(e=s,t=u,a=this._regioncode(e,t)):(r=s,i=u,o=this._regioncode(r,i))}}_clipInfinite(e,t,r,i,a,o){let s=Array.from(t),u;if((u=this._project(s[0],s[1],r,i))&&s.unshift(u[0],u[1]),(u=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(u[0],u[1]),s=this._clipFinite(e,s))for(let l=0,c=s.length,h,f=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)h=f,f=this._edgecode(s[l],s[l+1]),h&&f&&(l=this._edge(e,h,f,s,l),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,r,i,a){for(;t!==r;){let o,s;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,s=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,s=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,s=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(e,o,s)&&(i.splice(a,0,o,s),a+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const s=(o+2)%i.length,u=(o+4)%i.length;(i[o]===i[s]&&i[s]===i[u]||i[o+1]===i[s+1]&&i[s+1]===i[u+1])&&(i.splice(s,2),o-=2)}return a}_project(e,t,r,i){let a=1/0,o,s,u;if(i<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/i)<a&&(u=this.ymin,s=e+(a=o)*r)}else if(i>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/i)<a&&(u=this.ymax,s=e+(a=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<a&&(s=this.xmax,u=t+(a=o)*i)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<a&&(s=this.xmin,u=t+(a=o)*i)}return[s,u]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const ds=2*Math.PI,Fn=Math.pow;function gs(n){return n[0]}function ms(n){return n[1]}function ys(n){const{triangles:e,coords:t}=n;for(let r=0;r<e.length;r+=3){const i=2*e[r],a=2*e[r+1],o=2*e[r+2];if((t[o]-t[i])*(t[a+1]-t[i+1])-(t[a]-t[i])*(t[o+1]-t[i+1])>1e-10)return!1}return!0}function ps(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class Le{static from(e,t=gs,r=ms,i){return new Le("length"in e?xs(e,t,r,i):Float64Array.from(vs(e,t,r,i)))}constructor(e){this._delaunator=new oe(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&ys(e)){this.collinear=Int32Array.from({length:t.length/2},(f,g)=>g).sort((f,g)=>t[2*f]-t[2*g]||t[2*f+1]-t[2*g+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[t[2*u],t[2*u+1],t[2*l],t[2*l+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,g=t.length/2;f<g;++f){const m=ps(t[2*f],t[2*f+1],h);t[2*f]=m[0],t[2*f+1]=m[1]}this._delaunator=new oe(t)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=a[u%3===2?u-2:u+1];(r[u]===-1||o[c]===-1)&&(o[c]=u)}for(let u=0,l=i.length;u<l;++u)s[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],o[i[0]]=1,i.length===2&&(o[i[1]]=0))}voronoi(e){return new hs(this,e)}*neighbors(e){const{inedges:t,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const u=t[e];if(u===-1)return;let l=u,c=-1;do{if(yield c=o[l],l=l%3===2?l-2:l+1,o[l]!==e)return;if(l=a[l],l===-1){const h=r[(i[e]+1)%r.length];h!==c&&(yield h);return}}while(l!==u)}find(e,t,r=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const i=r;let a;for(;(a=this._step(r,e,t))>=0&&a!==r&&a!==i;)r=a;return a}_step(e,t,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:u,points:l}=this;if(i[e]===-1||!l.length)return(e+1)%(l.length>>1);let c=e,h=Fn(t-l[e*2],2)+Fn(r-l[e*2+1],2);const f=i[e];let g=f;do{let m=u[g];const y=Fn(t-l[m*2],2)+Fn(r-l[m*2+1],2);if(y<h&&(h=y,c=m),g=g%3===2?g-2:g+1,u[g]!==e)break;if(g=s[g],g===-1){if(g=a[(o[e]+1)%a.length],g!==m&&Fn(t-l[g*2],2)+Fn(r-l[g*2+1],2)<h)return g;break}}while(g!==f);return c}render(e){const t=e==null?e=new Sn:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const u=i[o];if(u<o)continue;const l=a[o]*2,c=a[u]*2;e.moveTo(r[l],r[l+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){const r=e==null?e=new Sn:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],u=i[a+1];e.moveTo(s+t,u),e.arc(s,u,t,0,ds)}return r&&r.value()}renderHull(e){const t=e==null?e=new Sn:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;e.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const u=2*r[s];e.lineTo(i[u],i[u+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new _e;return this.renderHull(e),e.value()}renderTriangle(e,t){const r=t==null?t=new Sn:void 0,{points:i,triangles:a}=this,o=a[e*=3]*2,s=a[e+1]*2,u=a[e+2]*2;return t.moveTo(i[o],i[o+1]),t.lineTo(i[s],i[s+1]),t.lineTo(i[u],i[u+1]),t.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,r=e.length/3;t<r;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new _e;return this.renderTriangle(e,t),t.value()}}function xs(n,e,t,r){const i=n.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=n[o];a[o*2]=e.call(r,s,o,n),a[o*2+1]=t.call(r,s,o,n)}return a}function*vs(n,e,t,r){let i=0;for(const a of n)yield e.call(r,a,i,n),yield t.call(r,a,i,n),++i}var Tt=function(n){return typeof n=="function"?n:function(e){return e[n]}},bs=function(n){var e=n.points,t=n.x,r=t===void 0?"x":t,i=n.y,a=i===void 0?"y":i,o=Tt(r),s=Tt(a);return e.map(function(u){return[o(u),s(u)]})},Ms=function(n){var e=n.points,t=n.width,r=n.height,i=n.debug,a=Le.from(e),o=i?a.voronoi([0,0,t,r]):void 0;return{delaunay:a,voronoi:o}},Wi=function(n){var e=n.points,t=n.x,r=n.y,i=n.width,a=n.height,o=n.debug,s=k.useMemo(function(){return bs({points:e,x:t,y:r})},[e,t,r]);return k.useMemo(function(){return Ms({points:s,width:i,height:a,debug:o})},[s,i,a,o])},ws=function(n){var e=n.nodes,t=n.width,r=n.height,i=n.x,a=n.y,o=n.onMouseEnter,s=n.onMouseMove,u=n.onMouseLeave,l=n.onClick,c=n.debug,h=k.useRef(null),f=k.useState(null),g=f[0],m=f[1],y=Wi({points:e,x:i,y:a,width:t,height:r,debug:c}),p=y.delaunay,b=y.voronoi,M=k.useMemo(function(){if(c&&b)return b.render()},[c,b]),v=k.useCallback(function(C){if(!h.current)return[null,null];var P=Pt(h.current,C),w=P[0],x=P[1],O=p.find(w,x);return[O,O!==void 0?e[O]:null]},[h,p]),q=k.useCallback(function(C){var P=v(C),w=P[0],x=P[1];m(w),x&&(o==null||o(x,C))},[v,m,o]),F=k.useCallback(function(C){var P=v(C),w=P[0],x=P[1];m(w),x&&(s==null||s(x,C))},[v,m,s]),T=k.useCallback(function(C){if(m(null),u){var P=void 0;g!==null&&(P=e[g]),P&&u(P,C)}},[m,g,u,e]),U=k.useCallback(function(C){var P=v(C),w=P[0],x=P[1];m(w),x&&(l==null||l(x,C))},[v,m,l]);return S.jsxs("g",{ref:h,children:[c&&b&&S.jsxs(S.Fragment,{children:[S.jsx("path",{d:M,stroke:"red",strokeWidth:1,opacity:.75}),g!==null&&S.jsx("path",{fill:"pink",opacity:.35,d:b.renderCell(g)})]}),S.jsx("rect",{width:t,height:r,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:q,onMouseMove:F,onMouseLeave:T,onClick:U})]})},ks=function(n,e){n.save(),n.globalAlpha=.75,n.beginPath(),e.render(n),n.strokeStyle="red",n.lineWidth=1,n.stroke(),n.restore()},Ts=function(n,e,t){n.save(),n.globalAlpha=.35,n.beginPath(),e.renderCell(t,n),n.fillStyle="red",n.fill(),n.restore()};function K(){return K=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},K.apply(this,arguments)}var Ii=function(n){var e=n.point;return S.jsx(kr,{id:S.jsxs("span",{children:["x: ",S.jsx("strong",{children:e.data.xFormatted}),", y:"," ",S.jsx("strong",{children:e.data.yFormatted})]}),enableChip:!0,color:e.serieColor})};Ii.propTypes={point:d.object.isRequired};var _s=k.memo(Ii),zi=function(n){var e=n.slice,t=n.axis,r=vn(),i=t==="x"?"y":"x";return S.jsx(Tr,{rows:e.points.map(function(a){return[S.jsx(_r,{color:a.serieColor,style:r.tooltip.chip},"chip"),a.serieId,S.jsx("span",{style:r.tooltip.tableCellValue,children:a.data[i+"Formatted"]},"value")]})})};zi.propTypes={slice:d.object.isRequired,axis:d.oneOf(["x","y"]).isRequired};var Ss=k.memo(zi),Hi={data:d.arrayOf(d.shape({id:d.oneOfType([d.string,d.number]).isRequired,data:d.arrayOf(d.shape({x:d.oneOfType([d.number,d.string,d.instanceOf(Date)]),y:d.oneOfType([d.number,d.string,d.instanceOf(Date)])})).isRequired})).isRequired,xScale:d.object.isRequired,xFormat:d.oneOfType([d.func,d.string]),yScale:d.object.isRequired,yFormat:d.oneOfType([d.func,d.string]),layers:d.arrayOf(d.oneOfType([d.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),d.func])).isRequired,curve:br.isRequired,axisTop:Nn,axisRight:Nn,axisBottom:Nn,axisLeft:Nn,enableGridX:d.bool.isRequired,enableGridY:d.bool.isRequired,gridXValues:d.oneOfType([d.number,d.arrayOf(d.oneOfType([d.number,d.string,d.instanceOf(Date)]))]),gridYValues:d.oneOfType([d.number,d.arrayOf(d.oneOfType([d.number,d.string,d.instanceOf(Date)]))]),enablePoints:d.bool.isRequired,pointSymbol:d.func,pointSize:d.number.isRequired,pointColor:d.any.isRequired,pointBorderWidth:d.number.isRequired,pointBorderColor:d.any.isRequired,enablePointLabel:d.bool.isRequired,pointLabel:d.oneOfType([d.string,d.func]).isRequired,markers:d.arrayOf(d.shape({axis:d.oneOf(["x","y"]).isRequired,value:d.oneOfType([d.number,d.string,d.instanceOf(Date)]).isRequired,style:d.object})),colors:Mr.isRequired,enableArea:d.bool.isRequired,areaOpacity:d.number.isRequired,areaBlendMode:Oe.isRequired,areaBaselineValue:d.oneOfType([d.number,d.string,d.instanceOf(Date)]).isRequired,lineWidth:d.number.isRequired,legends:d.arrayOf(d.shape(wr)).isRequired,isInteractive:d.bool.isRequired,debugMesh:d.bool.isRequired,tooltip:d.oneOfType([d.func,d.object]).isRequired,enableSlices:d.oneOf(["x","y",!1]).isRequired,debugSlices:d.bool.isRequired,sliceTooltip:d.oneOfType([d.func,d.object]).isRequired,enableCrosshair:d.bool.isRequired,crosshairType:d.string.isRequired},Cs=K({},Hi,{enablePointLabel:d.bool.isRequired,role:d.string.isRequired,useMesh:d.bool.isRequired},Sr,Cr),js=K({pixelRatio:d.number.isRequired},Hi),Gi={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:_s,enableSlices:!1,debugSlices:!1,sliceTooltip:Ss,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},hn=K({},Gi,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),Os=K({},Gi,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),Rs=function(n){var e=n.curve;return k.useMemo(function(){return $t().defined(function(t){return t.x!==null&&t.y!==null}).x(function(t){return t.x}).y(function(t){return t.y}).curve(Bt(e))},[e])},qs=function(n){var e=n.curve,t=n.yScale,r=n.areaBaselineValue;return k.useMemo(function(){return Bo().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y1(function(i){return i.y}).curve(Bt(e)).y0(t(r))},[e,t,r])},$s=function(n){var e=n.enableSlices,t=n.points,r=n.width,i=n.height;return k.useMemo(function(){if(e===!1)return[];if(e==="x"){var a=new Map;return t.forEach(function(s){s.data.x!==null&&s.data.y!==null&&(a.has(s.x)?a.get(s.x).push(s):a.set(s.x,[s]))}),Array.from(a.entries()).sort(function(s,u){return s[0]-u[0]}).map(function(s,u,l){var c,h=s[0],f=s[1],g=l[u-1],m=l[u+1];return{id:h,x0:c=g?h-(h-g[0])/2:h,x:h,y0:0,y:0,width:m?h-c+(m[0]-h)/2:r-c,height:i,points:f.reverse()}})}if(e==="y"){var o=new Map;return t.forEach(function(s){s.data.x!==null&&s.data.y!==null&&(o.has(s.y)?o.get(s.y).push(s):o.set(s.y,[s]))}),Array.from(o.entries()).sort(function(s,u){return s[0]-u[0]}).map(function(s,u,l){var c,h,f=s[0],g=s[1],m=l[u-1],y=l[u+1];return c=m?f-(f-m[0])/2:f,h=y?f-c+(y[0]-f)/2:i-c,{id:f,x0:0,x:0,y0:c,y:f,width:r,height:h,points:g.reverse()}})}},[e,t])},Xi=function(n){var e=n.data,t=n.xScale,r=t===void 0?hn.xScale:t,i=n.xFormat,a=n.yScale,o=a===void 0?hn.yScale:a,s=n.yFormat,u=n.width,l=n.height,c=n.colors,h=c===void 0?hn.colors:c,f=n.curve,g=f===void 0?hn.curve:f,m=n.areaBaselineValue,y=m===void 0?hn.areaBaselineValue:m,p=n.pointColor,b=p===void 0?hn.pointColor:p,M=n.pointBorderColor,v=M===void 0?hn.pointBorderColor:M,q=n.enableSlices,F=q===void 0?hn.enableSlicesTooltip:q,T=Je(i),U=Je(s),C=Er(h,"id"),P=vn(),w=Jn(b,P),x=Jn(v,P),O=k.useState([]),R=O[0],E=O[1],Y=k.useMemo(function(){return Ga(e.filter(function(L){return R.indexOf(L.id)===-1}),r,o,u,l)},[e,R,r,o,u,l]),B=Y.xScale,_=Y.yScale,j=Y.series,D=k.useMemo(function(){var L=e.map(function(W){return{id:W.id,label:W.id,color:C(W)}}),A=L.map(function(W){return K({},j.find(function(X){return X.id===W.id}),{color:W.color})}).filter(function(W){return!!W.id});return{legendData:L.map(function(W){return K({},W,{hidden:!A.find(function(X){return X.id===W.id})})}).reverse(),series:A}},[e,j,C]),z=D.legendData,G=D.series,Z=k.useCallback(function(L){E(function(A){return A.indexOf(L)>-1?A.filter(function(W){return W!==L}):[].concat(A,[L])})},[]),J=function(L){var A=L.series,W=L.getPointColor,X=L.getPointBorderColor,cn=L.formatX,Q=L.formatY;return k.useMemo(function(){return A.reduce(function(un,tn){return[].concat(un,tn.data.filter(function(nn){return nn.position.x!==null&&nn.position.y!==null}).map(function(nn,mn){var on={id:tn.id+"."+mn,index:un.length+mn,serieId:tn.id,serieColor:tn.color,x:nn.position.x,y:nn.position.y};return on.color=W(tn),on.borderColor=X(on),on.data=K({},nn.data,{xFormatted:cn(nn.data.x),yFormatted:Q(nn.data.y)}),on}))},[])},[A,W,X,cn,Q])}({series:G,getPointColor:w,getPointBorderColor:x,formatX:T,formatY:U}),N=$s({enableSlices:F,points:J,width:u,height:l});return{legendData:z,toggleSerie:Z,lineGenerator:Rs({curve:g}),areaGenerator:qs({curve:g,yScale:_,areaBaselineValue:y}),getColor:C,series:G,xScale:B,yScale:_,slices:N,points:J}},Vi=function(n){var e=n.areaBlendMode,t=n.areaOpacity,r=n.color,i=n.fill,a=n.path,o=je(),s=o.animate,u=o.config,l=Dt(a),c=Ft({color:r,config:u,immediate:!s});return S.jsx(Cn.path,{d:l,fill:i||c.color,fillOpacity:t,strokeWidth:0,style:{mixBlendMode:e}})};Vi.propTypes={areaBlendMode:Oe.isRequired,areaOpacity:d.number.isRequired,color:d.string,fill:d.string,path:d.string.isRequired};var Ni=function(n){var e=n.areaGenerator,t=n.areaOpacity,r=n.areaBlendMode,i=n.lines.slice(0).reverse();return S.jsx("g",{children:i.map(function(a){return S.jsx(Vi,K({path:e(a.data.map(function(o){return o.position}))},K({areaOpacity:t,areaBlendMode:r},a)),a.id)})})};Ni.propTypes={areaGenerator:d.func.isRequired,areaOpacity:d.number.isRequired,areaBlendMode:Oe.isRequired,lines:d.arrayOf(d.object).isRequired};var Fs=k.memo(Ni),Ki=function(n){var e=n.lineGenerator,t=n.points,r=n.color,i=n.thickness,a=k.useMemo(function(){return e(t)},[e,t]),o=Dt(a);return S.jsx(Cn.path,{d:o,fill:"none",strokeWidth:i,stroke:r})};Ki.propTypes={points:d.arrayOf(d.shape({x:d.oneOfType([d.string,d.number]),y:d.oneOfType([d.string,d.number])})),lineGenerator:d.func.isRequired,color:d.string.isRequired,thickness:d.number.isRequired};var As=k.memo(Ki),Zi=function(n){var e=n.lines,t=n.lineGenerator,r=n.lineWidth;return e.slice(0).reverse().map(function(i){var a=i.id,o=i.data,s=i.color;return S.jsx(As,{id:a,points:o.map(function(u){return u.position}),lineGenerator:t,color:s,thickness:r},a)})};Zi.propTypes={lines:d.arrayOf(d.shape({id:d.oneOfType([d.string,d.number]).isRequired,color:d.string.isRequired,data:d.arrayOf(d.shape({data:d.shape({x:d.oneOfType([d.string,d.number,d.instanceOf(Date)]),y:d.oneOfType([d.string,d.number,d.instanceOf(Date)])}).isRequired,position:d.shape({x:d.number,y:d.number}).isRequired})).isRequired})).isRequired,lineWidth:d.number.isRequired,lineGenerator:d.func.isRequired};var Ps=k.memo(Zi),Ji=function(n){var e=n.slice,t=n.axis,r=n.debug,i=n.tooltip,a=n.isCurrent,o=n.setCurrent,s=n.onMouseEnter,u=n.onMouseMove,l=n.onMouseLeave,c=n.onClick,h=Re(),f=h.showTooltipFromEvent,g=h.hideTooltip,m=k.useCallback(function(M){f(k.createElement(i,{slice:e,axis:t}),M,"right"),o(e),s&&s(e,M)},[f,i,e,s]),y=k.useCallback(function(M){f(k.createElement(i,{slice:e,axis:t}),M,"right"),u&&u(e,M)},[f,i,e,u]),p=k.useCallback(function(M){g(),o(null),l&&l(e,M)},[g,e,l]),b=k.useCallback(function(M){c&&c(e,M)},[e,c]);return S.jsx("rect",{x:e.x0,y:e.y0,width:e.width,height:e.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&r?.35:0,onMouseEnter:m,onMouseMove:y,onMouseLeave:p,onClick:b,"data-testid":"slice-"+e.id})};Ji.propTypes={slice:d.object.isRequired,axis:d.oneOf(["x","y"]).isRequired,debug:d.bool.isRequired,height:d.number.isRequired,tooltip:d.oneOfType([d.func,d.object]),isCurrent:d.bool.isRequired,setCurrent:d.func.isRequired,onMouseEnter:d.func,onMouseMove:d.func,onMouseLeave:d.func,onClick:d.func};var Es=k.memo(Ji),Qi=function(n){var e=n.slices,t=n.axis,r=n.debug,i=n.height,a=n.tooltip,o=n.current,s=n.setCurrent,u=n.onMouseEnter,l=n.onMouseMove,c=n.onMouseLeave,h=n.onClick;return e.map(function(f){return S.jsx(Es,{slice:f,axis:t,debug:r,height:i,tooltip:a,setCurrent:s,isCurrent:o!==null&&o.id===f.id,onMouseEnter:u,onMouseMove:l,onMouseLeave:c,onClick:h},f.id)})};Qi.propTypes={slices:d.arrayOf(d.shape({id:d.oneOfType([d.number,d.string,d.instanceOf(Date)]).isRequired,x:d.number.isRequired,y:d.number.isRequired,points:d.arrayOf(d.object).isRequired})).isRequired,axis:d.oneOf(["x","y"]).isRequired,debug:d.bool.isRequired,height:d.number.isRequired,tooltip:d.oneOfType([d.func,d.object]).isRequired,current:d.object,setCurrent:d.func.isRequired,onMouseEnter:d.func,onMouseMove:d.func,onMouseLeave:d.func,onClick:d.func};var Us=k.memo(Qi),nr=function(n){var e=n.points,t=n.symbol,r=n.size,i=n.borderWidth,a=n.enableLabel,o=n.label,s=n.labelYOffset,u=vn(),l=jr(o),c=e.slice(0).reverse().map(function(h){return{id:h.id,x:h.x,y:h.y,datum:h.data,fill:h.color,stroke:h.borderColor,label:a?l(h.data):null}});return S.jsx("g",{children:c.map(function(h){return S.jsx(Or,{x:h.x,y:h.y,datum:h.datum,symbol:t,size:r,color:h.fill,borderWidth:i,borderColor:h.stroke,label:h.label,labelYOffset:s,theme:u},h.id)})})};nr.propTypes={points:d.arrayOf(d.object),symbol:d.func,size:d.number.isRequired,color:d.func.isRequired,borderWidth:d.number.isRequired,borderColor:d.func.isRequired,enableLabel:d.bool.isRequired,label:d.oneOfType([d.string,d.func]).isRequired,labelYOffset:d.number};var Ds=k.memo(nr),er=function(n){var e=n.points,t=n.width,r=n.height,i=n.margin,a=n.setCurrent,o=n.onMouseEnter,s=n.onMouseMove,u=n.onMouseLeave,l=n.onClick,c=n.tooltip,h=n.debug,f=Re(),g=f.showTooltipAt,m=f.hideTooltip,y=k.useCallback(function(v,q){g(k.createElement(c,{point:v}),[v.x+i.left,v.y+i.top],"top"),a(v),o&&o(v,q)},[a,g,c,o,i]),p=k.useCallback(function(v,q){g(k.createElement(c,{point:v}),[v.x+i.left,v.y+i.top],"top"),a(v),s&&s(v,q)},[a,g,c,s]),b=k.useCallback(function(v,q){m(),a(null),u&&u(v,q)},[m,a,u]),M=k.useCallback(function(v,q){l&&l(v,q)},[l]);return S.jsx(ws,{nodes:e,width:t,height:r,onMouseEnter:y,onMouseMove:p,onMouseLeave:b,onClick:M,debug:h})};er.propTypes={points:d.arrayOf(d.object).isRequired,width:d.number.isRequired,height:d.number.isRequired,margin:d.object.isRequired,setCurrent:d.func.isRequired,onMouseEnter:d.func,onMouseMove:d.func,onMouseLeave:d.func,onClick:d.func,tooltip:d.oneOfType([d.func,d.object]).isRequired,debug:d.bool.isRequired};var Ys=k.memo(er),Se=function(n){var e=n.data,t=n.xScale,r=n.xFormat,i=n.yScale,a=n.yFormat,o=n.layers,s=n.curve,u=n.areaBaselineValue,l=n.colors,c=n.margin,h=n.width,f=n.height,g=n.axisTop,m=n.axisRight,y=n.axisBottom,p=n.axisLeft,b=n.enableGridX,M=n.enableGridY,v=n.gridXValues,q=n.gridYValues,F=n.lineWidth,T=n.enableArea,U=n.areaOpacity,C=n.areaBlendMode,P=n.enablePoints,w=n.pointSymbol,x=n.pointSize,O=n.pointColor,R=n.pointBorderWidth,E=n.pointBorderColor,Y=n.enablePointLabel,B=n.pointLabel,_=n.pointLabelYOffset,j=n.defs,D=n.fill,z=n.markers,G=n.legends,Z=n.isInteractive,J=n.useMesh,N=n.debugMesh,L=n.onMouseEnter,A=n.onMouseMove,W=n.onMouseLeave,X=n.onClick,cn=n.tooltip,Q=n.enableSlices,un=n.debugSlices,tn=n.sliceTooltip,nn=n.enableCrosshair,mn=n.crosshairType,on=n.role,ln=Yt(h,f,c),bn=ln.margin,en=ln.innerWidth,an=ln.innerHeight,zn=ln.outerWidth,Hn=ln.outerHeight,rn=Xi({data:e,xScale:t,xFormat:r,yScale:i,yFormat:a,width:en,height:an,colors:l,curve:s,areaBaselineValue:u,pointColor:O,pointBorderColor:E,enableSlices:Q}),Gn=rn.legendData,Xn=rn.toggleSerie,Mn=rn.lineGenerator,Bn=rn.areaGenerator,Rn=rn.series,qn=rn.xScale,$=rn.yScale,H=rn.slices,yn=rn.points,I=vn(),wn=Jn(O,I),tr=Jn(E,I),We=k.useState(null),Ln=We[0],Ie=We[1],ze=k.useState(null),Wn=ze[0],He=ze[1],kn={grid:S.jsx(is,{theme:I,width:en,height:an,xScale:b?qn:null,yScale:M?$:null,xValues:v,yValues:q},"grid"),markers:S.jsx(Rr,{markers:z,width:en,height:an,xScale:qn,yScale:$,theme:I},"markers"),axes:S.jsx(es,{xScale:qn,yScale:$,width:en,height:an,theme:I,top:g,right:m,bottom:y,left:p},"axes"),areas:null,lines:S.jsx(Ps,{lines:Rn,lineGenerator:Mn,lineWidth:F},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:G.map(function(Tn,se){return S.jsx(qr,K({},Tn,{containerWidth:en,containerHeight:an,data:Tn.data||Gn,theme:I,toggleSerie:Tn.toggleSerie?Xn:void 0}),"legend."+se)})},ir=$r(j,Rn,D);return T&&(kn.areas=S.jsx(Fs,{areaGenerator:Bn,areaOpacity:U,areaBlendMode:C,lines:Rn},"areas")),Z&&Q!==!1&&(kn.slices=S.jsx(Us,{slices:H,axis:Q,debug:un,height:an,tooltip:tn,current:Wn,setCurrent:He,onMouseEnter:L,onMouseMove:A,onMouseLeave:W,onClick:X},"slices")),P&&(kn.points=S.jsx(Ds,{points:yn,symbol:w,size:x,color:wn,borderWidth:R,borderColor:tr,enableLabel:Y,label:B,labelYOffset:_},"points")),Z&&nn&&(Ln!==null&&(kn.crosshair=S.jsx(Ze,{width:en,height:an,x:Ln.x,y:Ln.y,type:mn},"crosshair")),Wn!==null&&(kn.crosshair=S.jsx(Ze,{width:en,height:an,x:Wn.x,y:Wn.y,type:Q},"crosshair"))),Z&&J&&Q===!1&&(kn.mesh=S.jsx(Ys,{points:yn,width:en,height:an,margin:bn,current:Ln,setCurrent:Ie,onMouseEnter:L,onMouseMove:A,onMouseLeave:W,onClick:X,tooltip:cn,debug:N},"mesh")),S.jsx(Fr,{defs:ir,width:zn,height:Hn,margin:bn,role:on,children:o.map(function(Tn,se){return typeof Tn=="function"?S.jsx(k.Fragment,{children:Tn(K({},n,{innerWidth:en,innerHeight:an,series:Rn,slices:H,points:yn,xScale:qn,yScale:$,lineGenerator:Mn,areaGenerator:Bn,currentPoint:Ln,setCurrentPoint:Ie,currentSlice:Wn,setCurrentSlice:He}))},se):kn[Tn]})})};Se.propTypes=Cs,Se.defaultProps=hn;var Bs=Et(Se),Ls=function(n){return S.jsx(Ut,{children:function(e){var t=e.width,r=e.height;return S.jsx(Bs,K({width:t,height:r},n))}})},Ce=function(n){var e=n.width,t=n.height,r=n.margin,i=n.pixelRatio,a=n.data,o=n.xScale,s=n.xFormat,u=n.yScale,l=n.yFormat,c=n.curve,h=n.layers,f=n.colors,g=n.lineWidth,m=n.enableArea,y=n.areaBaselineValue,p=n.areaOpacity,b=n.enablePoints,M=n.pointSize,v=n.pointColor,q=n.pointBorderWidth,F=n.pointBorderColor,T=n.enableGridX,U=n.gridXValues,C=n.enableGridY,P=n.gridYValues,w=n.axisTop,x=n.axisRight,O=n.axisBottom,R=n.axisLeft,E=n.legends,Y=n.isInteractive,B=n.debugMesh,_=n.onMouseLeave,j=n.onClick,D=n.tooltip,z=n.canvasRef,G=k.useRef(null),Z=Yt(e,t,r),J=Z.margin,N=Z.innerWidth,L=Z.innerHeight,A=Z.outerWidth,W=Z.outerHeight,X=vn(),cn=k.useState(null),Q=cn[0],un=cn[1],tn=Xi({data:a,xScale:o,xFormat:s,yScale:u,yFormat:l,width:N,height:L,colors:f,curve:c,areaBaselineValue:y,pointColor:v,pointBorderColor:F}),nn=tn.lineGenerator,mn=tn.areaGenerator,on=tn.series,ln=tn.xScale,bn=tn.yScale,en=tn.points,an=Wi({points:en,width:N,height:L,debug:B}),zn=an.delaunay,Hn=an.voronoi;k.useEffect(function(){z&&(z.current=G.current),G.current.width=A*i,G.current.height=W*i;var $=G.current.getContext("2d");$.scale(i,i),$.fillStyle=X.background,$.fillRect(0,0,A,W),$.translate(J.left,J.top),h.forEach(function(H){if(typeof H=="function"&&H({ctx:$,innerWidth:N,innerHeight:L,series:on,points:en,xScale:ln,yScale:bn,lineWidth:g,lineGenerator:nn,areaGenerator:mn,currentPoint:Q,setCurrentPoint:un}),H==="grid"&&X.grid.line.strokeWidth>0&&($.lineWidth=X.grid.line.strokeWidth,$.strokeStyle=X.grid.line.stroke,T&&Mt($,{width:N,height:L,scale:ln,axis:"x",values:U}),C&&Mt($,{width:N,height:L,scale:bn,axis:"y",values:P})),H==="axes"&&os($,{xScale:ln,yScale:bn,width:N,height:L,top:w,right:x,bottom:O,left:R,theme:X}),H==="areas"&&m===!0&&($.save(),$.globalAlpha=p,mn.context($),on.forEach(function(I){$.fillStyle=I.color,$.beginPath(),mn(I.data.map(function(wn){return wn.position})),$.fill()}),$.restore()),H==="lines"&&(nn.context($),on.forEach(function(I){$.strokeStyle=I.color,$.lineWidth=g,$.beginPath(),nn(I.data.map(function(wn){return wn.position})),$.stroke()})),H==="points"&&b===!0&&M>0&&en.forEach(function(I){$.fillStyle=I.color,$.beginPath(),$.arc(I.x,I.y,M/2,0,2*Math.PI),$.fill(),q>0&&($.strokeStyle=I.borderColor,$.lineWidth=q,$.stroke())}),H==="mesh"&&B===!0&&(ks($,Hn),Q&&Ts($,Hn,Q.index)),H==="legends"){var yn=on.map(function(I){return{id:I.id,label:I.id,color:I.color}}).reverse();E.forEach(function(I){Ar($,K({},I,{data:I.data||yn,containerWidth:N,containerHeight:L,theme:X}))})}})},[G,A,W,h,X,nn,on,ln,bn,T,U,C,P,w,x,O,R,E,en,b,M,Q]);var rn=k.useCallback(function($){var H=Pt(G.current,$),yn=H[0],I=H[1];if(!Pr(J.left,J.top,N,L,yn,I))return null;var wn=zn.find(yn-J.left,I-J.top);return en[wn]},[G,J,N,L,zn]),Gn=Re(),Xn=Gn.showTooltipFromEvent,Mn=Gn.hideTooltip,Bn=k.useCallback(function($){var H=rn($);un(H),H?Xn(k.createElement(D,{point:H}),$):Mn()},[rn,un,Xn,Mn,D]),Rn=k.useCallback(function($){Mn(),un(null),Q&&_&&_(Q,$)},[Mn,un,_]),qn=k.useCallback(function($){if(j){var H=rn($);H&&j(H,$)}},[rn,j]);return S.jsx("canvas",{ref:G,width:A*i,height:W*i,style:{width:A,height:W,cursor:Y?"auto":"normal"},onMouseEnter:Y?Bn:void 0,onMouseMove:Y?Bn:void 0,onMouseLeave:Y?Rn:void 0,onClick:Y?qn:void 0})};Ce.propTypes=js,Ce.defaultProps=Os;var Ws=Et(Ce),Is=k.forwardRef(function(n,e){return S.jsx(Ws,K({},n,{canvasRef:e}))});k.forwardRef(function(n,e){return S.jsx(Ut,{children:function(t){var r=t.width,i=t.height;return S.jsx(Is,K({width:r,height:i},n,{ref:e}))}})});const Qs=({data:n})=>{const e=n[0].maxValue||"auto",t=n.map(r=>r.color);return S.jsx(Ls,{data:n,margin:{top:0,right:0,bottom:0,left:-75},xScale:{type:"linear",min:0,max:n[0].data.length},yScale:{type:"linear",min:0,max:e,stacked:!0,reverse:!1},axisTop:null,axisRight:null,axisBottom:null,axisLeft:null,enableGridX:!1,enableGridY:!1,enablePoints:!1,pointBorderWidth:2,pointLabelYOffset:-12,useMesh:!0,legends:[],colors:t})};try{StandardLineChart.displayName="StandardLineChart",StandardLineChart.__docgenInfo={description:"",displayName:"StandardLineChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ChartData[]"}}}}}catch{}export{Qs as S};
//# sourceMappingURL=StandardLineChart-e050a9e9.js.map
